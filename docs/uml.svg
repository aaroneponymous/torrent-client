<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="CLASS" height="1877px" preserveAspectRatio="none" style="width:5303px;height:1877px;background:#FFFFFF;" version="1.1" viewBox="0 0 5303 1877" width="5303px" zoomAndPan="magnify"><defs/><g><!--cluster bencode--><g class="cluster" data-entity="bencode" data-source-line="7" data-uid="ent0002" id="cluster_bencode"><rect fill="none" height="622.52" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.5;" width="1374" x="3331" y="1249.14"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="155.9004" x="3940.0498" y="1264.1351">bittorrent::bencode</text></g><!--cluster meta--><g class="cluster" data-entity="meta" data-source-line="79" data-uid="ent0009" id="cluster_meta"><rect fill="none" height="950.53" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.5;" width="568" x="4729" y="625.61"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="159.6807" x="4933.1597" y="640.6051">bittorrent::metainfo</text></g><!--cluster trk--><g class="cluster" data-entity="trk" data-source-line="116" data-uid="ent0013" id="cluster_trk"><rect fill="none" height="1193.14" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:1.5;" width="4569" x="7" y="7"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="146.0361" x="2218.4819" y="21.9951">bittorrent::tracker</text></g><!--class BencodeValue--><g class="entity" data-entity="BencodeValue" data-source-line="9" data-uid="ent0003" id="entity_BencodeValue"><rect fill="#F1F1F1" height="455.125" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="463.459" x="4225.27" y="1284.14"/><ellipse cx="4402.5566" cy="1300.14" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M4405.5254,1305.7806 Q4404.9472,1306.0775 4404.3066,1306.2181 Q4403.666,1306.3744 4402.9629,1306.3744 Q4400.4629,1306.3744 4399.1347,1304.7338 Q4397.8222,1303.0775 4397.8222,1299.9525 Q4397.8222,1296.8275 4399.1347,1295.1713 Q4400.4629,1293.515 4402.9629,1293.515 Q4403.666,1293.515 4404.3066,1293.6713 Q4404.9629,1293.8275 4405.5254,1294.1244 L4405.5254,1296.8431 Q4404.9004,1296.265 4404.3066,1295.9994 Q4403.7129,1295.7181 4403.0879,1295.7181 Q4401.7441,1295.7181 4401.0566,1296.7963 Q4400.3691,1297.8588 4400.3691,1299.9525 Q4400.3691,1302.0463 4401.0566,1303.1244 Q4401.7441,1304.1869 4403.0879,1304.1869 Q4403.7129,1304.1869 4404.3066,1303.9213 Q4404.9004,1303.64 4405.5254,1303.0619 L4405.5254,1305.7806 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.3857" x="4423.0566" y="1304.9867">BencodeValue</text><line style="stroke:#181818;stroke-width:0.5;" x1="4226.27" x2="4687.729" y1="1316.14" y2="1316.14"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="306.4072" x="4231.27" y="1333.1351">+enum Type { None, Int, String, List, Dict }</text><line style="stroke:#181818;stroke-width:1;" x1="4226.27" x2="4687.729" y1="1340.4369" y2="1340.4369"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="180.2227" x="4231.27" y="1357.432">-Type type_{Type::None}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.5635" x="4231.27" y="1373.7289">-int64_t intValue_{0}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145.8652" x="4231.27" y="1390.0257">-std::string strValue_</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="275.9531" x="4231.27" y="1406.3226">-std::vector&lt;BencodeValue&gt; listValue_</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="343.793" x="4231.27" y="1422.6195">-std::map&lt;std::string,BencodeValue&gt; dictValue_</text><line style="stroke:#181818;stroke-width:1;" x1="4226.27" x2="4687.729" y1="1429.9213" y2="1429.9213"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.04" x="4231.27" y="1446.9164">+BencodeValue()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="179.9355" x="4231.27" y="1463.2132">+BencodeValue(int64_t i)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="259.3623" x="4231.27" y="1479.5101">+BencodeValue(const std::string&amp; s)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="227.9102" x="4231.27" y="1495.807">+BencodeValue(std::string&amp;&amp; s)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="384.0225" x="4231.27" y="1512.1039">+BencodeValue(const std::vector&lt;BencodeValue&gt;&amp; l)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="352.5703" x="4231.27" y="1528.4007">+BencodeValue(std::vector&lt;BencodeValue&gt;&amp;&amp; l)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="451.459" x="4231.27" y="1544.6976">+BencodeValue(const std::map&lt;std::string,BencodeValue&gt;&amp; d)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="420.0068" x="4231.27" y="1560.9945">+BencodeValue(std::map&lt;std::string,BencodeValue&gt;&amp;&amp; d)</text><line style="stroke:#181818;stroke-width:1;" x1="4226.27" x2="4687.729" y1="1568.2963" y2="1568.2963"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.0557" x="4231.27" y="1585.2914">+bool isInt() const</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152.3457" x="4231.27" y="1601.5882">+bool isString() const</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135.0371" x="4231.27" y="1617.8851">+bool isList() const</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138.4209" x="4231.27" y="1634.182">+bool isDict() const</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152.3936" x="4231.27" y="1650.4789">+int64_t asInt() const</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="251.7061" x="4231.27" y="1666.7757">+const std::string&amp; asString() const</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="362.4619" x="4231.27" y="1683.0726">+const std::vector&lt;BencodeValue&gt;&amp; asList() const</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="428.2852" x="4231.27" y="1699.3695">+const std::map&lt;std::string,BencodeValue&gt;&amp; asDict() const</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="196.6016" x="4231.27" y="1715.6664">+std::string toString() const</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135.085" x="4231.27" y="1731.9632">+Type type() const</text></g><!--class ParseResult--><g class="entity" data-entity="ParseResult" data-source-line="39" data-uid="ent0004" id="entity_ParseResult"><rect fill="#F1F1F1" height="80.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="309.2471" x="3881.38" y="1471.4"/><ellipse cx="3990.4679" cy="1487.4" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3993.4366,1493.0406 Q3992.8585,1493.3375 3992.2179,1493.4781 Q3991.5773,1493.6344 3990.8741,1493.6344 Q3988.3741,1493.6344 3987.046,1491.9938 Q3985.7335,1490.3375 3985.7335,1487.2125 Q3985.7335,1484.0875 3987.046,1482.4313 Q3988.3741,1480.775 3990.8741,1480.775 Q3991.5773,1480.775 3992.2179,1480.9313 Q3992.8741,1481.0875 3993.4366,1481.3844 L3993.4366,1484.1031 Q3992.8116,1483.525 3992.2179,1483.2594 Q3991.6241,1482.9781 3990.9991,1482.9781 Q3989.6554,1482.9781 3988.9679,1484.0563 Q3988.2804,1485.1188 3988.2804,1487.2125 Q3988.2804,1489.3063 3988.9679,1490.3844 Q3989.6554,1491.4469 3990.9991,1491.4469 Q3991.6241,1491.4469 3992.2179,1491.1813 Q3992.8116,1490.9 3993.4366,1490.3219 L3993.4366,1493.0406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.5713" x="4010.9679" y="1492.2467">ParseResult</text><line style="stroke:#181818;stroke-width:0.5;" x1="3882.38" x2="4189.6271" y1="1503.4" y2="1503.4"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="144.9424" x="3887.38" y="1520.3951">+BencodeValue root</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="297.2471" x="3887.38" y="1536.692">+std::optional&lt;std::string_view&gt; infoSlice</text><line style="stroke:#181818;stroke-width:0.5;" x1="3882.38" x2="4189.6271" y1="1543.9938" y2="1543.9938"/></g><!--class BencodeParser--><g class="entity" data-entity="BencodeParser" data-source-line="44" data-uid="ent0005" id="entity_BencodeParser"><rect fill="#F1F1F1" height="373.6406" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="499.5391" x="3347.23" y="1324.88"/><ellipse cx="3540.1026" cy="1340.88" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3543.0713,1346.5206 Q3542.4932,1346.8175 3541.8526,1346.9581 Q3541.2119,1347.1144 3540.5088,1347.1144 Q3538.0088,1347.1144 3536.6807,1345.4738 Q3535.3682,1343.8175 3535.3682,1340.6925 Q3535.3682,1337.5675 3536.6807,1335.9113 Q3538.0088,1334.255 3540.5088,1334.255 Q3541.2119,1334.255 3541.8526,1334.4113 Q3542.5088,1334.5675 3543.0713,1334.8644 L3543.0713,1337.5831 Q3542.4463,1337.005 3541.8526,1336.7394 Q3541.2588,1336.4581 3540.6338,1336.4581 Q3539.2901,1336.4581 3538.6026,1337.5363 Q3537.9151,1338.5988 3537.9151,1340.6925 Q3537.9151,1342.7863 3538.6026,1343.8644 Q3539.2901,1344.9269 3540.6338,1344.9269 Q3541.2588,1344.9269 3541.8526,1344.6613 Q3542.4463,1344.38 3543.0713,1343.8019 L3543.0713,1346.5206 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.2939" x="3560.6026" y="1345.7267">BencodeParser</text><line style="stroke:#181818;stroke-width:0.5;" x1="3348.23" x2="3845.7691" y1="1356.88" y2="1356.88"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="163.0439" x="3353.23" y="1373.8751">-std::string_view input_</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.6045" x="3353.23" y="1390.172">-size_t pos_{0}</text><line style="stroke:#181818;stroke-width:1;" x1="3348.23" x2="3845.7691" y1="1397.4738" y2="1397.4738"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="413.7861" x="3353.23" y="1414.4689">+static BencodeValue parse(const std::string_view&amp; input)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="487.5391" x="3353.23" y="1430.7657">+static ParseResult parseWithInfoSlice(const std::string_view&amp; input)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="371.4102" x="3353.23" y="1447.0626">+static std::string encode(const BencodeValue&amp; val)</text><line style="stroke:#181818;stroke-width:1;" x1="3348.23" x2="3845.7691" y1="1454.3644" y2="1454.3644"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="272.2617" x="3353.23" y="1471.3595">-BencodeParser(std::string_view input)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="199.4727" x="3353.23" y="1487.6564">-BencodeValue parseValue()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.4316" x="3353.23" y="1503.9532">-BencodeValue parseInt()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="201.7217" x="3353.23" y="1520.2501">-BencodeValue parseString()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="184.4131" x="3353.23" y="1536.547">-BencodeValue parseList()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="187.7969" x="3353.23" y="1552.8439">-BencodeValue parseDict()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127.9209" x="3353.23" y="1569.1407">-char peek() const</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74.3203" x="3353.23" y="1585.4376">-char get()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.6904" x="3353.23" y="1601.7345">-void expect(char c)</text><line style="stroke:#181818;stroke-width:1;" x1="3348.23" x2="3845.7691" y1="1609.0363" y2="1609.0363"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="284.0674" x="3353.23" y="1626.0314">-struct Span { size_t begin; size_t end; }</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="225.3125" x="3353.23" y="1642.3282">-bool capture_info_span_{false}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="229.9199" x="3353.23" y="1658.6251">-std::optional&lt;Span&gt; info_span_</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="316.3604" x="3353.23" y="1674.922">-void enableInfoSpanCapture(bool on = true)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="483.1025" x="3353.23" y="1691.2189">-std::optional&lt;std::pair&lt;const char*, size_t&gt;&gt; infoSliceBytes() const</text></g><g class="entity" data-entity="GMN6" data-source-line="70" data-uid="ent0007" id="entity_GMN6"><path d="M3361.88,1800.26 L3361.88,1855.6584 A0,0 0 0 0 3361.88,1855.6584 L3832.129,1855.6584 A0,0 0 0 0 3832.129,1855.6584 L3832.129,1810.26 L3822.129,1800.26 L3601,1800.26 L3597,1698.69 L3593,1800.26 L3361.88,1800.26 A0,0 0 0 0 3361.88,1800.26" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M3822.129,1800.26 L3822.129,1810.26 L3832.129,1810.26 L3822.129,1800.26" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="430.9297" x="3367.88" y="1817.3269">parseDict() records the exact byte span of the value for key "info"</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="449.249" x="3367.88" y="1832.4597">when capture_info_span_ is enabled, enabling spec-correct info-hash</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.2158" x="3367.88" y="1847.5925">computation without re-encoding.</text></g><!--class FileEntry--><g class="entity" data-entity="FileEntry" data-source-line="81" data-uid="ent0010" id="entity_FileEntry"><rect fill="#F1F1F1" height="96.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="204.3086" x="4959.85" y="1463.25"/><ellipse cx="5026.9071" cy="1479.25" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5029.8759,1484.8906 Q5029.2978,1485.1875 5028.6571,1485.3281 Q5028.0165,1485.4844 5027.3134,1485.4844 Q5024.8134,1485.4844 5023.4853,1483.8438 Q5022.1728,1482.1875 5022.1728,1479.0625 Q5022.1728,1475.9375 5023.4853,1474.2813 Q5024.8134,1472.625 5027.3134,1472.625 Q5028.0165,1472.625 5028.6571,1472.7813 Q5029.3134,1472.9375 5029.8759,1473.2344 L5029.8759,1475.9531 Q5029.2509,1475.375 5028.6571,1475.1094 Q5028.0634,1474.8281 5027.4384,1474.8281 Q5026.0946,1474.8281 5025.4071,1475.9063 Q5024.7196,1476.9688 5024.7196,1479.0625 Q5024.7196,1481.1563 5025.4071,1482.2344 Q5026.0946,1483.2969 5027.4384,1483.2969 Q5028.0634,1483.2969 5028.6571,1483.0313 Q5029.2509,1482.75 5029.8759,1482.1719 L5029.8759,1484.8906 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.6943" x="5047.4071" y="1484.0967">FileEntry</text><line style="stroke:#181818;stroke-width:0.5;" x1="4960.85" x2="5163.1586" y1="1495.25" y2="1495.25"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="192.3086" x="4965.85" y="1512.2451">+std::filesystem::path path</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="118.2344" x="4965.85" y="1528.542">+uint64_t length</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113.4287" x="4965.85" y="1544.8389">+uint64_t offset</text><line style="stroke:#181818;stroke-width:0.5;" x1="4960.85" x2="5163.1586" y1="1552.1406" y2="1552.1406"/></g><!--class InfoDictionary--><g class="entity" data-entity="InfoDictionary" data-source-line="87" data-uid="ent0011" id="entity_InfoDictionary"><rect fill="#F1F1F1" height="129.4844" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="361.7334" x="4881.13" y="1013.91"/><ellipse cx="5008.5963" cy="1029.91" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M5011.5651,1035.5506 Q5010.9869,1035.8475 5010.3463,1035.9881 Q5009.7057,1036.1444 5009.0026,1036.1444 Q5006.5026,1036.1444 5005.1744,1034.5038 Q5003.8619,1032.8475 5003.8619,1029.7225 Q5003.8619,1026.5975 5005.1744,1024.9413 Q5006.5026,1023.285 5009.0026,1023.285 Q5009.7057,1023.285 5010.3463,1023.4413 Q5011.0026,1023.5975 5011.5651,1023.8944 L5011.5651,1026.6131 Q5010.9401,1026.035 5010.3463,1025.7694 Q5009.7526,1025.4881 5009.1276,1025.4881 Q5007.7838,1025.4881 5007.0963,1026.5663 Q5006.4088,1027.6288 5006.4088,1029.7225 Q5006.4088,1031.8163 5007.0963,1032.8944 Q5007.7838,1033.9569 5009.1276,1033.9569 Q5009.7526,1033.9569 5010.3463,1033.6913 Q5010.9401,1033.41 5011.5651,1032.8319 L5011.5651,1035.5506 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.3008" x="5029.0963" y="1034.7567">InfoDictionary</text><line style="stroke:#181818;stroke-width:0.5;" x1="4882.13" x2="5241.8634" y1="1045.91" y2="1045.91"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127.1758" x="4887.13" y="1062.9051">+std::string name</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="205.4609" x="4887.13" y="1079.202">+std::vector&lt;FileEntry&gt; files</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159.8447" x="4887.13" y="1095.4989">+uint32_t pieceLength</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="322.4512" x="4887.13" y="1111.7957">+std::vector&lt;std::array&lt;uint8_t,20&gt;&gt; pieces</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="349.7334" x="4887.13" y="1128.0926">+std::string_view rawSlice   "exact bytes of 'info'"</text><line style="stroke:#181818;stroke-width:0.5;" x1="4882.13" x2="5241.8634" y1="1135.3944" y2="1135.3944"/></g><!--class Metainfo--><g class="entity" data-entity="Metainfo" data-source-line="95" data-uid="ent0012" id="entity_Metainfo"><rect fill="#F1F1F1" height="243.2656" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="536.8018" x="4744.6" y="660.61"/><ellipse cx="4978.2421" cy="676.61" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M4981.2108,682.2506 Q4980.6327,682.5475 4979.9921,682.6881 Q4979.3515,682.8444 4978.6483,682.8444 Q4976.1483,682.8444 4974.8202,681.2038 Q4973.5077,679.5475 4973.5077,676.4225 Q4973.5077,673.2975 4974.8202,671.6413 Q4976.1483,669.985 4978.6483,669.985 Q4979.3515,669.985 4979.9921,670.1413 Q4980.6483,670.2975 4981.2108,670.5944 L4981.2108,673.3131 Q4980.5858,672.735 4979.9921,672.4694 Q4979.3983,672.1881 4978.7733,672.1881 Q4977.4296,672.1881 4976.7421,673.2663 Q4976.0546,674.3288 4976.0546,676.4225 Q4976.0546,678.5163 4976.7421,679.5944 Q4977.4296,680.6569 4978.7733,680.6569 Q4979.3983,680.6569 4979.9921,680.3913 Q4980.5858,680.11 4981.2108,679.5319 L4981.2108,682.2506 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.0176" x="4998.7421" y="681.4567">Metainfo</text><line style="stroke:#181818;stroke-width:0.5;" x1="4745.6" x2="5280.4018" y1="692.61" y2="692.61"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="362.0176" x="4750.6" y="709.6051">+static Metainfo fromTorrent(std::string_view data)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="363.9658" x="4750.6" y="725.902">+static Metainfo fromMagnet(const std::string&amp; uri)</text><line style="stroke:#181818;stroke-width:1;" x1="4745.6" x2="5280.4018" y1="733.2038" y2="733.2038"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.7383" x="4750.6" y="750.1989">+InfoDictionary info</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="495.4961" x="4750.6" y="766.4957">+std::vector&lt;std::vector&lt;std::string&gt;&gt; announceTiers  "BEP-12 tiers"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="524.8018" x="4750.6" y="782.7926">+std::vector&lt;std::string&gt; announceList                 "flattened convenience"</text><line style="stroke:#181818;stroke-width:1;" x1="4745.6" x2="5280.4018" y1="790.0944" y2="790.0944"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="240.3379" x="4750.6" y="807.0895">-std::array&lt;uint8_t,20&gt; infoHash_</text><line style="stroke:#181818;stroke-width:1;" x1="4745.6" x2="5280.4018" y1="814.3913" y2="814.3913"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="429.0303" x="4750.6" y="831.3864">+const std::vector&lt;std::array&lt;uint8_t,20&gt;&gt;&amp; pieces() const</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="213.1377" x="4750.6" y="847.6832">+uint32_t pieceLength() const</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="178.0488" x="4750.6" y="863.9801">+bool isSingleFile() const</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207.4502" x="4750.6" y="880.277">+uint64_t totalLength() const</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="293.3096" x="4750.6" y="896.5739">+std::array&lt;uint8_t,20&gt; infoHash() const</text></g><!--class AnnounceEvent--><g class="entity" data-entity="AnnounceEvent" data-source-line="118" data-uid="ent0014" id="entity_AnnounceEvent"><rect fill="#F1F1F1" height="162.0781" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="323.4385" x="23.28" y="221.26"/><ellipse cx="125.7234" cy="237.26" fill="#EB937F" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M129.8327,243.26 L122.114,243.26 L122.114,230.8694 L129.8327,230.8694 L129.8327,233.0256 L124.5671,233.0256 L124.5671,235.6975 L129.3327,235.6975 L129.3327,237.8538 L124.5671,237.8538 L124.5671,241.1038 L129.8327,241.1038 L129.8327,243.26 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110.0518" x="146.2234" y="242.1067">AnnounceEvent</text><line style="stroke:#181818;stroke-width:0.5;" x1="24.28" x2="345.7185" y1="253.26" y2="253.26"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="256.792" x="29.28" y="270.2551">none; started; completed; stopped }</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="241.6846" x="29.28" y="286.552">enum Scheme { http; https; udp }</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="29.28" y="302.8489">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.3311" x="29.28" y="319.1457">class InfoHash {</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="217.0547" x="29.28" y="335.4426">+std::array&lt;uint8_t,20&gt; bytes</text><line style="stroke:#181818;stroke-width:0.5;" x1="24.28" x2="345.7185" y1="342.7444" y2="342.7444"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182.2461" x="29.28" y="359.7395">+std::string toHex() const</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="311.4385" x="29.28" y="376.0364">+auto operator&lt;=&gt;(const InfoHash&amp;) const</text></g><!--class PeerID--><g class="entity" data-entity="PeerID" data-source-line="128" data-uid="ent0015" id="entity_PeerID"><rect fill="#F1F1F1" height="64.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="229.0547" x="381.47" y="270.15"/><ellipse cx="468.5804" cy="286.15" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M471.5491,291.7906 Q470.971,292.0875 470.3304,292.2281 Q469.6897,292.3844 468.9866,292.3844 Q466.4866,292.3844 465.1585,290.7438 Q463.846,289.0875 463.846,285.9625 Q463.846,282.8375 465.1585,281.1813 Q466.4866,279.525 468.9866,279.525 Q469.6897,279.525 470.3304,279.6813 Q470.9866,279.8375 471.5491,280.1344 L471.5491,282.8531 Q470.9241,282.275 470.3304,282.0094 Q469.7366,281.7281 469.1116,281.7281 Q467.7679,281.7281 467.0804,282.8063 Q466.3929,283.8688 466.3929,285.9625 Q466.3929,288.0563 467.0804,289.1344 Q467.7679,290.1969 469.1116,290.1969 Q469.7366,290.1969 470.3304,289.9313 Q470.9241,289.65 471.5491,289.0719 L471.5491,291.7906 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.334" x="489.0804" y="290.9967">PeerID</text><line style="stroke:#181818;stroke-width:0.5;" x1="382.47" x2="609.5247" y1="302.15" y2="302.15"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="217.0547" x="387.47" y="319.1451">+std::array&lt;uint8_t,20&gt; bytes</text><line style="stroke:#181818;stroke-width:0.5;" x1="382.47" x2="609.5247" y1="326.4469" y2="326.4469"/></g><!--class PeerAddr--><g class="entity" data-entity="PeerAddr" data-source-line="132" data-uid="ent0016" id="entity_PeerAddr"><rect fill="#F1F1F1" height="96.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="346.6738" x="645.66" y="253.86"/><ellipse cx="782.4813" cy="269.86" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M785.45,275.5006 Q784.8719,275.7975 784.2313,275.9381 Q783.5907,276.0944 782.8875,276.0944 Q780.3875,276.0944 779.0594,274.4538 Q777.7469,272.7975 777.7469,269.6725 Q777.7469,266.5475 779.0594,264.8913 Q780.3875,263.235 782.8875,263.235 Q783.5907,263.235 784.2313,263.3913 Q784.8875,263.5475 785.45,263.8444 L785.45,266.5631 Q784.825,265.985 784.2313,265.7194 Q783.6375,265.4381 783.0125,265.4381 Q781.6688,265.4381 780.9813,266.5163 Q780.2938,267.5788 780.2938,269.6725 Q780.2938,271.7663 780.9813,272.8444 Q781.6688,273.9069 783.0125,273.9069 Q783.6375,273.9069 784.2313,273.6413 Q784.825,273.36 785.45,272.7819 L785.45,275.5006 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64.5313" x="802.9813" y="274.7067">PeerAddr</text><line style="stroke:#181818;stroke-width:0.5;" x1="646.66" x2="991.3338" y1="285.86" y2="285.86"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.249" x="651.66" y="302.8551">+std::string ip</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.3066" x="651.66" y="319.152">+uint16_t port</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="334.6738" x="651.66" y="335.4489">+std::optional&lt;std::array&lt;uint8_t,20&gt;&gt; peerId</text><line style="stroke:#181818;stroke-width:0.5;" x1="646.66" x2="991.3338" y1="342.7506" y2="342.7506"/></g><!--class AnnounceRequest--><g class="entity" data-entity="AnnounceRequest" data-source-line="138" data-uid="ent0017" id="entity_AnnounceRequest"><rect fill="#F1F1F1" height="259.8594" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="273.7891" x="23.11" y="652.31"/><ellipse cx="92.0333" cy="668.31" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M95.0021,673.9506 Q94.424,674.2475 93.7833,674.3881 Q93.1427,674.5444 92.4396,674.5444 Q89.9396,674.5444 88.6115,672.9038 Q87.299,671.2475 87.299,668.1225 Q87.299,664.9975 88.6115,663.3413 Q89.9396,661.685 92.4396,661.685 Q93.1427,661.685 93.7833,661.8413 Q94.4396,661.9975 95.0021,662.2944 L95.0021,665.0131 Q94.3771,664.435 93.7833,664.1694 Q93.1896,663.8881 92.5646,663.8881 Q91.2208,663.8881 90.5333,664.9663 Q89.8458,666.0288 89.8458,668.1225 Q89.8458,670.2163 90.5333,671.2944 Q91.2208,672.3569 92.5646,672.3569 Q93.1896,672.3569 93.7833,672.0913 Q94.3771,671.81 95.0021,671.2319 L95.0021,673.9506 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127.4424" x="112.5333" y="673.1567">AnnounceRequest</text><line style="stroke:#181818;stroke-width:0.5;" x1="24.11" x2="295.8991" y1="684.31" y2="684.31"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.4805" x="29.11" y="701.3051">+InfoHash infoHash</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.3994" x="29.11" y="717.602">+PeerID peerId</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.3066" x="29.11" y="733.8989">+uint16_t port</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="138.79" x="29.11" y="750.1957">+uint64_t uploaded</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158.8057" x="29.11" y="766.4926">+uint64_t downloaded</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96.5303" x="29.11" y="782.7895">+uint64_t left</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="166.1064" x="29.11" y="799.0864">+AnnounceEvent event</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.3848" x="29.11" y="815.3832">+uint32_t numwant</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98.6152" x="29.11" y="831.6801">+uint32_t key</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="106.6406" x="29.11" y="847.977">+bool compact</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.1719" x="29.11" y="864.2739">+bool no_peer_id</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="228.7441" x="29.11" y="880.5707">+std::optional&lt;std::string&gt; ipv6</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="261.7891" x="29.11" y="896.8676">+std::optional&lt;std::string&gt; trackerId</text><line style="stroke:#181818;stroke-width:0.5;" x1="24.11" x2="295.8991" y1="904.1694" y2="904.1694"/></g><!--class AnnounceResponse--><g class="entity" data-entity="AnnounceResponse" data-source-line="154" data-uid="ent0018" id="entity_AnnounceResponse"><rect fill="#F1F1F1" height="162.0781" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="276.9268" x="1539.54" y="701.2"/><ellipse cx="1604.8471" cy="717.2" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1607.8159,722.8406 Q1607.2378,723.1375 1606.5971,723.2781 Q1605.9565,723.4344 1605.2534,723.4344 Q1602.7534,723.4344 1601.4253,721.7938 Q1600.1128,720.1375 1600.1128,717.0125 Q1600.1128,713.8875 1601.4253,712.2313 Q1602.7534,710.575 1605.2534,710.575 Q1605.9565,710.575 1606.5971,710.7313 Q1607.2534,710.8875 1607.8159,711.1844 L1607.8159,713.9031 Q1607.1909,713.325 1606.5971,713.0594 Q1606.0034,712.7781 1605.3784,712.7781 Q1604.0346,712.7781 1603.3471,713.8563 Q1602.6596,714.9188 1602.6596,717.0125 Q1602.6596,719.1063 1603.3471,720.1844 Q1604.0346,721.2469 1605.3784,721.2469 Q1606.0034,721.2469 1606.5971,720.9813 Q1607.1909,720.7 1607.8159,720.1219 L1607.8159,722.8406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.8125" x="1625.3471" y="722.0467">AnnounceResponse</text><line style="stroke:#181818;stroke-width:0.5;" x1="1540.54" x2="1815.4668" y1="733.2" y2="733.2"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.9844" x="1545.54" y="750.1951">+uint32_t interval</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="264.9268" x="1545.54" y="766.492">+std::optional&lt;uint32_t&gt; minInterval</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="224.752" x="1545.54" y="782.7889">+uint32_t complete    "seeders"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="232.8936" x="1545.54" y="799.0857">+uint32_t incomplete  "leechers"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="218.8457" x="1545.54" y="815.3826">+std::vector&lt;PeerAddr&gt; peers</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="255.083" x="1545.54" y="831.6795">+std::optional&lt;std::string&gt; warning</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="261.7891" x="1545.54" y="847.9764">+std::optional&lt;std::string&gt; trackerId</text><line style="stroke:#181818;stroke-width:0.5;" x1="1540.54" x2="1815.4668" y1="855.2781" y2="855.2781"/></g><!--class ScrapeStats--><g class="entity" data-entity="ScrapeStats" data-source-line="164" data-uid="ent0019" id="entity_ScrapeStats"><rect fill="#F1F1F1" height="113.1875" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="250.4785" x="331.76" y="725.64"/><ellipse cx="410.6706" cy="741.64" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M413.6394,747.2806 Q413.0613,747.5775 412.4206,747.7181 Q411.78,747.8744 411.0769,747.8744 Q408.5769,747.8744 407.2488,746.2338 Q405.9363,744.5775 405.9363,741.4525 Q405.9363,738.3275 407.2488,736.6713 Q408.5769,735.015 411.0769,735.015 Q411.78,735.015 412.4206,735.1713 Q413.0769,735.3275 413.6394,735.6244 L413.6394,738.3431 Q413.0144,737.765 412.4206,737.4994 Q411.8269,737.2181 411.2019,737.2181 Q409.8581,737.2181 409.1706,738.2963 Q408.4831,739.3588 408.4831,741.4525 Q408.4831,743.5463 409.1706,744.6244 Q409.8581,745.6869 411.2019,745.6869 Q411.8269,745.6869 412.4206,745.4213 Q413.0144,745.14 413.6394,744.5619 L413.6394,747.2806 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.1572" x="431.1706" y="746.4867">ScrapeStats</text><line style="stroke:#181818;stroke-width:0.5;" x1="332.76" x2="581.2385" y1="757.64" y2="757.64"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.002" x="337.76" y="774.6351">+uint32_t complete</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="158.8057" x="337.76" y="790.932">+uint32_t downloaded</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.7646" x="337.76" y="807.2289">+uint32_t incomplete</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238.4785" x="337.76" y="823.5257">+std::optional&lt;std::string&gt; name</text><line style="stroke:#181818;stroke-width:0.5;" x1="332.76" x2="581.2385" y1="830.8275" y2="830.8275"/></g><!--class TrackerEndpoint--><g class="entity" data-entity="TrackerEndpoint" data-source-line="171" data-uid="ent0020" id="entity_TrackerEndpoint"><rect fill="#F1F1F1" height="210.9688" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="533.042" x="3162.48" y="973.17"/><ellipse cx="3367.0659" cy="989.17" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3370.0347,994.8106 Q3369.4566,995.1075 3368.8159,995.2481 Q3368.1753,995.4044 3367.4722,995.4044 Q3364.9722,995.4044 3363.6441,993.7638 Q3362.3316,992.1075 3362.3316,988.9825 Q3362.3316,985.8575 3363.6441,984.2013 Q3364.9722,982.545 3367.4722,982.545 Q3368.1753,982.545 3368.8159,982.7013 Q3369.4722,982.8575 3370.0347,983.1544 L3370.0347,985.8731 Q3369.4097,985.295 3368.8159,985.0294 Q3368.2222,984.7481 3367.5972,984.7481 Q3366.2534,984.7481 3365.5659,985.8263 Q3364.8784,986.8888 3364.8784,988.9825 Q3364.8784,991.0763 3365.5659,992.1544 Q3366.2534,993.2169 3367.5972,993.2169 Q3368.2222,993.2169 3368.8159,992.9513 Q3369.4097,992.67 3370.0347,992.0919 L3370.0347,994.8106 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.3701" x="3387.5659" y="994.0167">TrackerEndpoint</text><line style="stroke:#181818;stroke-width:0.5;" x1="3163.48" x2="3694.522" y1="1005.17" y2="1005.17"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.9912" x="3168.48" y="1022.1651">+std::string url</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127.2305" x="3168.48" y="1038.462">+Scheme scheme</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="374.1172" x="3168.48" y="1054.7589">+std::chrono::steady_clock::time_point lastAnnounce</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="365.0527" x="3168.48" y="1071.0557">+std::chrono::steady_clock::time_point nextAllowed</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="159.7148" x="3168.48" y="1087.3526">+uint32_t failureCount</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.0137" x="3168.48" y="1103.6495">+bool disabled</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="261.7891" x="3168.48" y="1119.9464">+std::optional&lt;std::string&gt; trackerId</text><line style="stroke:#181818;stroke-width:1;" x1="3163.48" x2="3694.522" y1="1127.2481" y2="1127.2481"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="482.0977" x="3168.48" y="1144.2432">+void recordSuccess(uint32_t interval, std::optional&lt;uint32_t&gt; min)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149.6592" x="3168.48" y="1160.5401">+void recordFailure()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="521.042" x="3168.48" y="1176.837">+bool canAnnounceNow(std::chrono::steady_clock::time_point now) const</text></g><!--class TrackerTier--><g class="entity" data-entity="TrackerTier" data-source-line="185" data-uid="ent0021" id="entity_TrackerTier"><rect fill="#F1F1F1" height="129.4844" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="497.3857" x="3233.31" y="717.5"/><ellipse cx="3437.8173" cy="733.5" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3440.7861,739.1406 Q3440.2079,739.4375 3439.5673,739.5781 Q3438.9267,739.7344 3438.2236,739.7344 Q3435.7236,739.7344 3434.3954,738.0938 Q3433.0829,736.4375 3433.0829,733.3125 Q3433.0829,730.1875 3434.3954,728.5313 Q3435.7236,726.875 3438.2236,726.875 Q3438.9267,726.875 3439.5673,727.0313 Q3440.2236,727.1875 3440.7861,727.4844 L3440.7861,730.2031 Q3440.1611,729.625 3439.5673,729.3594 Q3438.9736,729.0781 3438.3486,729.0781 Q3437.0048,729.0781 3436.3173,730.1563 Q3435.6298,731.2188 3435.6298,733.3125 Q3435.6298,735.4063 3436.3173,736.4844 Q3437.0048,737.5469 3438.3486,737.5469 Q3438.9736,737.5469 3439.5673,737.2813 Q3440.1611,737 3440.7861,736.4219 L3440.7861,739.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79.8711" x="3458.3173" y="738.3467">TrackerTier</text><line style="stroke:#181818;stroke-width:0.5;" x1="3234.31" x2="3729.6957" y1="749.5" y2="749.5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="299.8926" x="3239.31" y="766.4951">+std::vector&lt;TrackerEndpoint&gt; endpoints</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145.6602" x="3239.31" y="782.792">+size_t currentIndex</text><line style="stroke:#181818;stroke-width:1;" x1="3234.31" x2="3729.6957" y1="790.0938" y2="790.0938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204.4492" x="3239.31" y="807.0889">+TrackerEndpoint&amp; current()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="99.2236" x="3239.31" y="823.3857">+void rotate()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="485.3857" x="3239.31" y="839.6826">+bool anyAvailable(std::chrono::steady_clock::time_point now) const</text></g><!--class IHttpClient--><g class="entity" data-entity="IHttpClient" data-source-line="194" data-uid="ent0022" id="entity_IHttpClient"><rect fill="#F1F1F1" height="64.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="887.1299" x="617.44" y="750.09"/><ellipse cx="1019.2291" cy="766.09" fill="#B4A7E5" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1015.1509,761.8556 L1015.1509,759.6994 L1022.5416,759.6994 L1022.5416,761.8556 L1020.0728,761.8556 L1020.0728,769.9338 L1022.5416,769.9338 L1022.5416,772.09 L1015.1509,772.09 L1015.1509,769.9338 L1017.6197,769.9338 L1017.6197,761.8556 L1015.1509,761.8556 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="75.0518" x="1039.7291" y="770.9367">IHttpClient</text><line style="stroke:#181818;stroke-width:0.5;" x1="618.44" x2="1503.5699" y1="782.09" y2="782.09"/><line style="stroke:#181818;stroke-width:0.5;" x1="618.44" x2="1503.5699" y1="790.09" y2="790.09"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="875.1299" x="623.44" y="807.0851">+Expected&lt;HttpResponse&gt; get(const std::string&amp; url, int connectTimeoutSec, int transferTimeoutSec, bool followRedirects)</text></g><!--class HttpTracker--><g class="entity" data-entity="HttpTracker" data-source-line="198" data-uid="ent0023" id="entity_HttpTracker"><rect fill="#F1F1F1" height="178.375" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="793.9355" x="3766.03" y="693.05"/><ellipse cx="4117.0212" cy="709.05" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M4119.99,714.6906 Q4119.4118,714.9875 4118.7712,715.1281 Q4118.1306,715.2844 4117.4275,715.2844 Q4114.9275,715.2844 4113.5993,713.6438 Q4112.2868,711.9875 4112.2868,708.8625 Q4112.2868,705.7375 4113.5993,704.0813 Q4114.9275,702.425 4117.4275,702.425 Q4118.1306,702.425 4118.7712,702.5813 Q4119.4275,702.7375 4119.99,703.0344 L4119.99,705.7531 Q4119.365,705.175 4118.7712,704.9094 Q4118.1775,704.6281 4117.5525,704.6281 Q4116.2087,704.6281 4115.5212,705.7063 Q4114.8337,706.7688 4114.8337,708.8625 Q4114.8337,710.9563 4115.5212,712.0344 Q4116.2087,713.0969 4117.5525,713.0969 Q4118.1775,713.0969 4118.7712,712.8313 Q4119.365,712.55 4119.99,711.9719 L4119.99,714.6906 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.4531" x="4137.5212" y="713.8967">HttpTracker</text><line style="stroke:#181818;stroke-width:0.5;" x1="3767.03" x2="4558.9655" y1="725.05" y2="725.05"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="344.0459" x="3772.03" y="742.0451">+HttpTracker(std::shared_ptr&lt;IHttpClient&gt; http)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="641.8057" x="3772.03" y="758.342">+AnnounceResponse announce(const TrackerEndpoint&amp; ep, const AnnounceRequest&amp; req)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="781.9355" x="3772.03" y="774.6389">+std::map&lt;InfoHash, ScrapeStats&gt; scrape(const TrackerEndpoint&amp; ep, const std::vector&lt;InfoHash&gt;&amp; hashes)</text><line style="stroke:#181818;stroke-width:1;" x1="3767.03" x2="4558.9655" y1="781.9406" y2="781.9406"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="249.9902" x="3772.03" y="798.9357">-std::shared_ptr&lt;IHttpClient&gt; http_</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="666.292" x="3772.03" y="815.2326">-std::string buildAnnounceUrl(const TrackerEndpoint&amp; ep, const AnnounceRequest&amp; req) const</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="508.6758" x="3772.03" y="831.5295">-AnnounceResponse parseAnnounceBody(const std::string&amp; body) const</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="585.3818" x="3772.03" y="847.8264">-std::map&lt;InfoHash,ScrapeStats&gt; parseScrapeBody(const std::string&amp; body) const</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="357.6357" x="3772.03" y="864.1232">-std::string urlEncode(std::string_view bytes) const</text></g><!--class UdpTracker--><g class="entity" data-entity="UdpTracker" data-source-line="210" data-uid="ent0024" id="entity_UdpTracker"><rect fill="#F1F1F1" height="194.6719" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="801.8516" x="1851.07" y="684.9"/><ellipse cx="2207.2053" cy="700.9" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M2210.174,706.5406 Q2209.5959,706.8375 2208.9553,706.9781 Q2208.3146,707.1344 2207.6115,707.1344 Q2205.1115,707.1344 2203.7834,705.4938 Q2202.4709,703.8375 2202.4709,700.7125 Q2202.4709,697.5875 2203.7834,695.9313 Q2205.1115,694.275 2207.6115,694.275 Q2208.3146,694.275 2208.9553,694.4313 Q2209.6115,694.5875 2210.174,694.8844 L2210.174,697.6031 Q2209.549,697.025 2208.9553,696.7594 Q2208.3615,696.4781 2207.7365,696.4781 Q2206.3928,696.4781 2205.7053,697.5563 Q2205.0178,698.6188 2205.0178,700.7125 Q2205.0178,702.8063 2205.7053,703.8844 Q2206.3928,704.9469 2207.7365,704.9469 Q2208.3615,704.9469 2208.9553,704.6813 Q2209.549,704.4 2210.174,703.8219 L2210.174,706.5406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.0811" x="2227.7053" y="705.7467">UdpTracker</text><line style="stroke:#181818;stroke-width:0.5;" x1="1852.07" x2="2651.9216" y1="716.9" y2="716.9"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="641.8057" x="1857.07" y="733.8951">+AnnounceResponse announce(const TrackerEndpoint&amp; ep, const AnnounceRequest&amp; req)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="781.9355" x="1857.07" y="750.192">+std::map&lt;InfoHash, ScrapeStats&gt; scrape(const TrackerEndpoint&amp; ep, const std::vector&lt;InfoHash&gt;&amp; hashes)</text><line style="stroke:#181818;stroke-width:1;" x1="1852.07" x2="2651.9216" y1="757.4938" y2="757.4938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="66.418" x="1857.07" y="774.4889">-int sock_</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120.9551" x="1857.07" y="790.7857">-uint64_t connId_</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="100.7207" x="1857.07" y="807.0826">-uint32_t txId_</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="367.8965" x="1857.07" y="823.3795">-void ensureConnection(const TrackerEndpoint&amp; ep)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="653.5771" x="1857.07" y="839.6764">-AnnounceResponse doAnnounce(const TrackerEndpoint&amp; ep, const AnnounceRequest&amp; req)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="789.8516" x="1857.07" y="855.9732">-std::map&lt;InfoHash,ScrapeStats&gt; doScrape(const TrackerEndpoint&amp; ep, const std::vector&lt;InfoHash&gt;&amp; hashes)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="400.1963" x="1857.07" y="872.2701">-std::vector&lt;uint8_t&gt; recvPacket(int expectedMin) const</text></g><!--class CompactPeerCodec--><g class="entity" data-entity="CompactPeerCodec" data-source-line="223" data-uid="ent0025" id="entity_CompactPeerCodec"><rect fill="#F1F1F1" height="80.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="455.1533" x="1450.42" y="262"/><ellipse cx="1604.9498" cy="278" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M1607.9185,283.6406 Q1607.3404,283.9375 1606.6998,284.0781 Q1606.0592,284.2344 1605.356,284.2344 Q1602.856,284.2344 1601.5279,282.5938 Q1600.2154,280.9375 1600.2154,277.8125 Q1600.2154,274.6875 1601.5279,273.0313 Q1602.856,271.375 1605.356,271.375 Q1606.0592,271.375 1606.6998,271.5313 Q1607.356,271.6875 1607.9185,271.9844 L1607.9185,274.7031 Q1607.2935,274.125 1606.6998,273.8594 Q1606.106,273.5781 1605.481,273.5781 Q1604.1373,273.5781 1603.4498,274.6563 Q1602.7623,275.7188 1602.7623,277.8125 Q1602.7623,279.9063 1603.4498,280.9844 Q1604.1373,282.0469 1605.481,282.0469 Q1606.106,282.0469 1606.6998,281.7813 Q1607.2935,281.5 1607.9185,280.9219 L1607.9185,283.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.5938" x="1625.4498" y="282.8467">CompactPeerCodec</text><line style="stroke:#181818;stroke-width:0.5;" x1="1451.42" x2="1904.5733" y1="294" y2="294"/><line style="stroke:#181818;stroke-width:0.5;" x1="1451.42" x2="1904.5733" y1="302" y2="302"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="443.1533" x="1456.42" y="318.9951">+static std::vector&lt;PeerAddr&gt; parseIPv4(std::string_view raw)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="443.1533" x="1456.42" y="335.292">+static std::vector&lt;PeerAddr&gt; parseIPv6(std::string_view raw)</text></g><!--class TrackerManager--><g class="entity" data-entity="TrackerManager" data-source-line="228" data-uid="ent0026" id="entity_TrackerManager"><rect fill="#F1F1F1" height="520.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="619.1201" x="3172.44" y="42"/><ellipse cx="3420.5367" cy="58" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1;"/><path d="M3423.5054,63.6406 Q3422.9273,63.9375 3422.2867,64.0781 Q3421.6461,64.2344 3420.9429,64.2344 Q3418.4429,64.2344 3417.1148,62.5938 Q3415.8023,60.9375 3415.8023,57.8125 Q3415.8023,54.6875 3417.1148,53.0313 Q3418.4429,51.375 3420.9429,51.375 Q3421.6461,51.375 3422.2867,51.5313 Q3422.9429,51.6875 3423.5054,51.9844 L3423.5054,54.7031 Q3422.8804,54.125 3422.2867,53.8594 Q3421.6929,53.5781 3421.0679,53.5781 Q3419.7242,53.5781 3419.0367,54.6563 Q3418.3492,55.7188 3418.3492,57.8125 Q3418.3492,59.9063 3419.0367,60.9844 Q3419.7242,62.0469 3421.0679,62.0469 Q3421.6929,62.0469 3422.2867,61.7813 Q3422.8804,61.5 3423.5054,60.9219 L3423.5054,63.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.4268" x="3441.0367" y="62.8467">TrackerManager</text><line style="stroke:#181818;stroke-width:0.5;" x1="3173.44" x2="3790.5601" y1="74" y2="74"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="566.0908" x="3178.44" y="90.9951">+TrackerManager(const std::vector&lt;std::vector&lt;std::string&gt;&gt;&amp; announceTiers,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="264.2568" x="3178.44" y="107.292">InfoHash ih, PeerID pid, uint16_t port,</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="350.2188" x="3178.44" y="123.5889">std::shared_ptr&lt;IHttpClient&gt; httpClient = nullptr)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="89.3389" x="3178.44" y="139.8857">+void start()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86.9668" x="3178.44" y="156.1826">+void stop()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="486.6436" x="3178.44" y="172.4795">+void onStats(uint64_t uploaded, uint64_t downloaded, uint64_t left)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="607.1201" x="3178.44" y="188.7764">+void announce(AnnounceEvent ev = AnnounceEvent::none, uint32_t numwant = 50)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="295.8457" x="3178.44" y="205.0732">+std::vector&lt;PeerAddr&gt; drainNewPeers()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="566.3779" x="3178.44" y="221.3701">+void setPeersCallback(std::function&lt;void(const std::vector&lt;PeerAddr&gt;&amp;)&gt; cb)</text><line style="stroke:#181818;stroke-width:1;" x1="3173.44" x2="3790.5601" y1="228.6719" y2="228.6719"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139.8018" x="3178.44" y="245.667">-InfoHash infoHash_</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.7207" x="3178.44" y="261.9639">-PeerID peerId_</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102.6279" x="3178.44" y="278.2607">-uint16_t port_</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165.833" x="3178.44" y="294.5576">-uint64_t uploaded_{0}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="185.8486" x="3178.44" y="310.8545">-uint64_t downloaded_{0}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.5732" x="3178.44" y="327.1514">-uint64_t left_{0}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="147.6016" x="3178.44" y="343.4482">-std::mutex statsMu_</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="226.3857" x="3178.44" y="359.7451">-std::vector&lt;TrackerTier&gt; tiers_</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="258.3984" x="3178.44" y="376.042">-std::unique_ptr&lt;HttpTracker&gt; http_</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="258.3848" x="3178.44" y="392.3389">-std::unique_ptr&lt;UdpTracker&gt;  udp_</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="275.6318" x="3178.44" y="408.6357">-std::vector&lt;PeerAddr&gt; pendingPeers_</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="152.6191" x="3178.44" y="424.9326">-std::mutex peersMu_</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="443.4199" x="3178.44" y="441.2295">-std::function&lt;void(const std::vector&lt;PeerAddr&gt;&amp;)&gt; peersCb_</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="142.0508" x="3178.44" y="457.5264">-std::thread worker_</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="253.9756" x="3178.44" y="473.8232">-std::atomic&lt;bool&gt; running_{false}</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.1182" x="3178.44" y="490.1201">-void workerLoop()</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="520.7412" x="3178.44" y="506.417">-void tryOneTier(TrackerTier&amp; tier, AnnounceEvent ev, uint32_t numwant)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="564.7441" x="3178.44" y="522.7139">-ITrackerClient&amp; clientFor(const TrackerEndpoint&amp; ep)    ' if present in your code</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="524.3574" x="3178.44" y="539.0107">-AnnounceRequest makeReq(AnnounceEvent ev, uint32_t numwant) const</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="397.1064" x="3178.44" y="555.3076">-void deliverPeers(const std::vector&lt;PeerAddr&gt;&amp; peers)</text></g><g class="entity" data-entity="GMN27" data-source-line="262" data-uid="ent0028" id="entity_GMN27"><path d="M3730.83,1050.95 L3730.83,1106.3484 A0,0 0 0 0 3730.83,1106.3484 L4387.1606,1106.3484 A0,0 0 0 0 4387.1606,1106.3484 L4387.1606,1060.95 L4377.1606,1050.95 L4072.51,1050.95 L4131.8,871.57 L4064.51,1050.95 L3730.83,1050.95 A0,0 0 0 0 3730.83,1050.95" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M4377.1606,1050.95 L4377.1606,1060.95 L4387.1606,1060.95 L4377.1606,1050.95" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216.4614" x="3736.83" y="1068.0169">HTTP/HTTPS announce (BEP 3/7):</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="508.0347" x="3745.0946" y="1083.1497">- Build query with url-encoded info_hash &amp; peer_id, event, key, numwant, etc.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="627.0659" x="3745.0946" y="1098.2825">- Parse bencoded response: interval, peers (compact), complete/incomplete, tracker id/warning.</text></g><g class="entity" data-entity="GMN30" data-source-line="268" data-uid="ent0031" id="entity_GMN30"><path d="M2690.08,1043.39 L2690.08,1113.9213 A0,0 0 0 0 2690.08,1113.9213 L3127.9242,1113.9213 A0,0 0 0 0 3127.9242,1113.9213 L3127.9242,1053.39 L3117.9242,1043.39 L2835.46,1043.39 L2468.04,880.05 L2827.46,1043.39 L2690.08,1043.39 A0,0 0 0 0 2690.08,1043.39" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M3117.9242,1043.39 L3117.9242,1053.39 L3127.9242,1053.39 L3117.9242,1043.39" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149.1128" x="2696.08" y="1060.4569">UDP protocol (BEP 15):</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="408.5796" x="2704.3446" y="1075.5897">- Connect: txId, receive connId; retry with exponential backoff.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="370.4873" x="2704.3446" y="1090.7225">- Announce: include stats &amp; event; parse compact peers.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="330.6113" x="2704.3446" y="1105.8553">- Optional scrape: batch multiple info_hash values.</text></g><g class="entity" data-entity="GMN33" data-source-line="275" data-uid="ent0034" id="entity_GMN33"><path d="M2687.91,739.41 L2687.91,825.0741 A0,0 0 0 0 2687.91,825.0741 L3198.0921,825.0741 A0,0 0 0 0 3198.0921,825.0741 L3198.0921,749.41 L3188.0921,739.41 L2994.61,739.41 L3189.23,562.9 L2986.61,739.41 L2687.91,739.41 A0,0 0 0 0 2687.91,739.41" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M3188.0921,739.41 L3188.0921,749.41 L3198.0921,749.41 L3188.0921,739.41" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32.9761" x="2693.91" y="756.4769">Role:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="279.1763" x="2702.1746" y="771.6097">- Owns endpoints grouped by BEP-12 tiers.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="480.9175" x="2702.1746" y="786.7425">- Respects per-endpoint (minInterval|interval) and cooldown with backoff.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="319.3315" x="2702.1746" y="801.8753">- Rotates within a tier before moving to the next.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="287.0981" x="2702.1746" y="817.0081">- Delivers peers via callback or drain queue.</text></g><!--reverse link Metainfo to InfoDictionary--><g class="link" data-entity-1="Metainfo" data-entity-2="InfoDictionary" data-source-line="286" data-uid="lnk36" id="link_Metainfo_InfoDictionary"><path codeLine="286" d="M5035.1102,916.0972 C5041.3402,953.5272 5045.99,981.45 5051.31,1013.45" fill="none" id="Metainfo-backto-InfoDictionary" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="5033.14,904.26,5030.1794,910.8353,5035.1102,916.0972,5038.0708,909.5218,5033.14,904.26" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link InfoDictionary to FileEntry--><g class="link" data-entity-1="InfoDictionary" data-entity-2="FileEntry" data-source-line="287" data-uid="lnk37" id="link_InfoDictionary_FileEntry"><path codeLine="287" d="M5062,1155.72 C5062,1242.96 5062,1385.16 5062,1462.96" fill="none" id="InfoDictionary-backto-FileEntry" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="5062,1143.72,5058,1149.72,5062,1155.72,5066,1149.72,5062,1143.72" style="stroke:#181818;stroke-width:1;"/></g><!--link Metainfo to BencodeParser--><g class="link" data-entity-1="Metainfo" data-entity-2="BencodeParser" data-source-line="289" data-uid="lnk38" id="link_Metainfo_BencodeParser"><path codeLine="289" d="M4777.38,904.26 C4748.34,924.9 4720.63,947.94 4697,973.17 C4616.71,1058.91 4674.84,1144.67 4576,1208.14 C4442.72,1293.71 4008.74,1176.8 3864,1241.14 C3819.91,1260.73 3783.5642,1287.0831 3747.8942,1320.5731" fill="none" id="Metainfo-to-BencodeParser" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="3743.52,1324.68,3752.8192,1321.4358,3747.1652,1321.2576,3747.3434,1315.6036,3743.52,1324.68" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.4199" x="4698" y="1083.2169">uses parseWithInfoSlice()</text></g><!--link InfoDictionary to BencodeValue--><g class="link" data-entity-1="InfoDictionary" data-entity-2="BencodeValue" data-source-line="290" data-uid="lnk39" id="link_InfoDictionary_BencodeValue"><path codeLine="290" d="M4971.22,1143.82 C4935.89,1166.59 4894.27,1190.84 4854,1208.14 C4801.21,1230.81 4778.88,1212.61 4729,1241.14 C4707.36,1253.51 4690.9577,1264.3685 4670.6377,1280.1585" fill="none" id="InfoDictionary-to-BencodeValue" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="4665.9,1283.84,4675.461,1281.4762,4669.8481,1280.772,4670.5523,1275.1592,4665.9,1283.84" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.5566" x="4831" y="1229.2069">decode fields</text></g><!--link HttpTracker to BencodeParser--><g class="link" data-entity-1="HttpTracker" data-entity-2="BencodeParser" data-source-line="292" data-uid="lnk40" id="link_HttpTracker_BencodeParser"><path codeLine="292" d="M3913.4,871.89 C3859.47,887.9 3802.32,902.55 3748,912.17 C3612.72,936.13 2607.72,873.65 2513,973.17 C2241.54,1258.37 2942.7836,1413.1531 3341.0436,1476.1131" fill="none" id="HttpTracker-to-BencodeParser" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="3346.97,1477.05,3338.705,1471.6937,3342.0313,1476.2693,3337.4558,1479.5956,3346.97,1477.05" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.5391" x="2514" y="1083.2169">parse/encode responses</text></g><!--link HttpTracker to BencodeValue--><g class="link" data-entity-1="HttpTracker" data-entity-2="BencodeValue" data-source-line="293" data-uid="lnk41" id="link_HttpTracker_BencodeValue"><path codeLine="293" d="M4314.44,871.7 C4349.8,899.64 4383.39,933.7 4405,973.17 C4456.21,1066.71 4472.0644,1177.2611 4474.0044,1277.8911" fill="none" id="HttpTracker-to-BencodeValue" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="4474.12,1283.89,4477.9458,1274.8146,4474.0236,1278.8909,4469.9473,1274.9688,4474.12,1283.89" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.3569" x="4470" y="1083.2169">inspect bencoded dicts</text></g><!--link CompactPeerCodec to AnnounceResponse--><g class="link" data-entity-1="CompactPeerCodec" data-entity-2="AnnounceResponse" data-source-line="294" data-uid="lnk42" id="link_CompactPeerCodec_AnnounceResponse"><path codeLine="294" d="M1678,342.82 C1678,421.1 1678,591.23 1678,694.85" fill="none" id="CompactPeerCodec-to-AnnounceResponse" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="1678,700.85,1682,691.85,1678,695.85,1674,691.85,1678,700.85" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.8682" x="1679" y="605.6769">populate peers</text></g><!--reverse link TrackerTier to TrackerEndpoint--><g class="link" data-entity-1="TrackerTier" data-entity-2="TrackerEndpoint" data-source-line="296" data-uid="lnk43" id="link_TrackerTier_TrackerEndpoint"><path codeLine="296" d="M3468.3729,858.93 C3461.7629,895.63 3455.43,930.82 3447.88,972.8" fill="none" id="TrackerTier-backto-TrackerEndpoint" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="3470.5,847.12,3465.4998,852.316,3468.3729,858.93,3473.3731,853.734,3470.5,847.12" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link TrackerManager to TrackerTier--><g class="link" data-entity-1="TrackerManager" data-entity-2="TrackerTier" data-source-line="297" data-uid="lnk44" id="link_TrackerManager_TrackerTier"><path codeLine="297" d="M3482,574.9 C3482,632.55 3482,676.58 3482,717.45" fill="none" id="TrackerManager-backto-TrackerTier" style="stroke:#181818;stroke-width:1;"/><polygon fill="none" points="3482,562.9,3478,568.9,3482,574.9,3486,568.9,3482,562.9" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link TrackerManager to HttpTracker--><g class="link" data-entity-1="TrackerManager" data-entity-2="HttpTracker" data-source-line="298" data-uid="lnk45" id="link_TrackerManager_HttpTracker"><path codeLine="298" d="M3801.4321,527.4839 C3888.0421,588.2739 3967.52,644.05 4036.84,692.7" fill="none" id="TrackerManager-backto-HttpTracker" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="3791.61,520.59,3794.2231,527.311,3801.4321,527.4839,3798.819,520.7629,3791.61,520.59" style="stroke:#181818;stroke-width:1;"/></g><!--reverse link TrackerManager to UdpTracker--><g class="link" data-entity-1="TrackerManager" data-entity-2="UdpTracker" data-source-line="299" data-uid="lnk46" id="link_TrackerManager_UdpTracker"><path codeLine="299" d="M3160.7872,427.3069 C3009.3572,485.8469 2835.7,553.11 2670,617.61 C2614.53,639.2 2554.96,662.47 2498.66,684.5" fill="none" id="TrackerManager-backto-UdpTracker" style="stroke:#181818;stroke-width:1;"/><polygon fill="#181818" points="3171.98,422.98,3164.9413,421.4125,3160.7872,427.3069,3167.8259,428.8744,3171.98,422.98" style="stroke:#181818;stroke-width:1;"/></g><!--link TrackerManager to Metainfo--><g class="link" data-entity-1="TrackerManager" data-entity-2="Metainfo" data-source-line="300" data-uid="lnk47" id="link_TrackerManager_Metainfo"><path codeLine="300" d="M3791.97,385.37 C4012.09,445.35 4313.89,531.03 4576,617.61 C4630.81,635.71 4683.3314,654.3319 4738.7214,674.7819" fill="none" id="TrackerManager-to-Metainfo" style="stroke:#181818;stroke-width:1;stroke-dasharray:7,7;"/><polygon fill="#181818" points="4744.35,676.86,4737.2924,669.9904,4739.6595,675.1283,4734.5217,677.4953,4744.35,676.86" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208.8252" x="4548" y="605.6769">constructed with announceTiers</text></g><!--SRC=[tHhBSjiuykwlGFdWI3EIaydCPBSKHrMserHS6p_ASdQFAeY4B9OfW0E0ahNPVD5-mjpoPTiD42H0GbQScjFw854DTAFV3z3g8UC5bNH52feyq7isrTkS4SaIJVbzpWvKlI79gLAdMijiNcfsaGW-pVxDoAk3WnVatQu_M3kRN9rVlvyykQiwd1pECws5b8phqMZEU29ITaYe8jKp-N9mG2mdvCo2_adp4k44_dvcl5oHksq1078bE1kG2wu7P0fCy_i1-PGf-FK-IpJvQX26G_jbK3HypBxWusY4oDMMZEitlyqqWMzprkpBgsf5wNGqKeOsWI-xwYsjGOj2dlYCZaaEF7HshcXnub4RX2WfCEoZMAP_zZVr-X5OpNbi4UodDF4EFI8gji_ViMEBHoecyX79TnAExj-1u1tpfBwEIBhplASHQqoduhaGESaKE56lJypv0TpwLNG9NIswWDuNBZWpqUuv4IFHwAbxJK0Z77s_Gcc4RT_xjOWnLKUL1_xQ1F0DbOhTCbNcsiLl4DDI2FyeKUXCS9hxVCxM6TkC8JGNOffd2GiFgAYPSsHrnB2D3SX5gLqmGaO3InH2DL4-T3nGdILXrYcGSZUI3DqZIxWVOFiY6-H_PNfvuRX_3YLV-vQb2jjdy8YiQHvuz33GII-kZ7wmrHFLJpMHPUE-knQTW-nQj-wvQzMwdrrDbbIIWh67mDii-9xLszOYImbxB20SUcOj2JK1OfTG2AO5vL0jAilFsNt6txfVZATlNQKmuPlGGfUIpT3XPWemPryMD5VCBmYrdo9bwvjsgyyMf_ES6SF3ohcbsZD724xU4M2DzMCqpQ-2PlB4MXi5-sbGyJls8k5igvbgnnqNcf6vW1Ax8c8HneSvpTCrzW12fehe9GCrKb3L76WI50MH4Rms1be8IHxObXpYuOU6pcR9U4HPaFugqTE1VJ2b4qmqJB3g9ze8C5nIjJHq4h42VwGeFDb0g8XI0rz3mpUW7iCci96Hw-3hlaRaSd9tUd7ruVhvdSYAQMg4mrO4V_Xzo8SiPnEkvTObCMEZ1K3LLccsGdlf9S4FkrwwX9ypVjy1YiL2iLQcH4T1gw0FjCwfKW2dA-P1gnfGipOcXf_cg5zVOvhBMC8-UKpukEQPIact9uZmzvaUl7u57cQGL8S3cpuatHZlWyN3ncSK-iiBLE2Bmr2moqgnZKWckTNWXHIhEsk5RgvAgQRztNYNz9v3DeYKq59cOPblwHT9x528_sp9WKeevwBa2RlBc5GW-TdaPlZBQwBnv-4EGXLoZOlfZxJ_3XSvrPfnbc8ShndFmFFPOIkDnUnaPFW8OHIsZDqsOOUPZoexXmKzvZdnnYZ3uG7Thql0UBaMckOn0dl42JBQteY_kpqz_yVazla1hoL0cJJnhkM33NSpN9nMzfg0DQ1j8IQhSWObGrEf6TGBp5avCuzAYw80utrrsDDaoLOud2orBjwQJ_MMb6dHZdQKDOZphafCPCLQiO_iCTGfBRKWec2IeiNVZQkOSESSnRipnkJ5- -_aeOLtcgOobgMoed63NzwOHalkRl5YoGUPIiC3dKLksHybKtKhMMlHkOu5LsBLXEBSr7vQ5hcWAKjRu5HiU7GXPukAHEWe33zRGGGEiQ4TA5HIBvJGcI2DUX0kPiZyB4ltzCOGDCNwpTvDbQllrgegm3dg2Rlc4xwPX0OWTe3RD2QhZ5y46sjy5oOcpod6qYPPUcSqkmvpnY1weXdL-Pnr4BLNvWsL71v-L3VJHD826bggLKSjZk4MEEOmBH7tSbFLU8-HEylVXAU5oBYEXLmfAyLNgKUPBszVifI22zpFQBgT9Rb87Y01PYisiqJX9EsyuJbud3tgqpmNcuxC2vhbq1YU0qdVizDCcTRmMMPfQfjfh6tJEYqJg5sgrt7M0Nd2KViTEXyie-vofHe1kDF6bTZqlbCNOXDDifK1iN48Z5VvTSk-OsnspPDpSJkc9AKfMnSyPO-1IbhuHsvdBn0LIh4EPQHyUxe6sT4SFooXqVc2GZDuyH7gt7cUiSP59sOkO-a9BhaSCpRZMxHX0ylXAR360UyEpeLHOCeI2mQ7u6g1UcpWHf25G0UyPMc6muMvlFAqZsTNAd9yUQ2guOG1YwMpGiiJJuonATtzCDFNgTBrT9Ke7IkmOc1LrQvTH-1tV_GzFy1h6LV81dxU6KCWuu_zH_Z-v4X1UuSZ5bFzRYlvbC2pxhtdlCpor8dnMUO_ABC_o7VqQQPI1pqJwJRc8tE01sIw2WpqPoyb3EHv99l4Eh7tBft1n7H5qNZ_dBOTxl_6UJ0E5MI5oaVgZWX3zYBre2OXwySQLbs8A5CHJ7X3RjxDMd-7awJYz2_Gt3wlISNqBrITlwVgSyTOUjOtI5RZ1NvrWyNIIoXGCPSwjnqYja3du8r9QvJUqIQPwxgRzM-zs0ZVVmQ5DpifTClS9UKmQTMk7q9xEsRJsCHz58xSWmCI-Mi60F1-r_PdwO04_NuSTsychAhPEsZYynns-0NLJ8Az42AA022uyQTUPywmtBLc30-8yuLFgCuMxN43M0j0en4txyFQqmVi-_rL_wcMEfKqurTiWn0LYiMCswbpckTpiALrXGMSYI5yWdiYLgqf7_N799c7MQGpjLL98XZRl6HIsx6TTfn2ctlyY68ZYwZWrXk-LQdP8rfLgyioydxFQ-B6zjB7trJo39ACyIAlkUZMKszVKoN612y78cVw4m_7gr1ZY5c7QpCFXLm_opu6_tpku-kbX1wGR8G41lq5giKgIqwmyO8iLd8SiSBxSUCr5l6Jg4F2WhNSNdCJpprFeKT6eGFITk-k8rUqBYfa6w3GyPhl3q8-KL4GyGN95gIGJ27zZ9EjA2N1yjukD_QIOKKVyBdt7Npv3OIHD6LvjcRInjDJ-hVQx- -ulVUyoH3_U7Ttyn8_fdLM8BspoGtvzUNV-gCgpGt96JPi1AIGMtEbZesClL1dgNrPWIMAsCDdc2_DtSK0BoO6JYW0wkIufcdU8BXtz3WysPeyykOk8mhfLVSP_K4zABzi9k21c-n8bhwiPlJWYh-hX2PK33EVtz-04OKM2JJ_HlXVVlTah_gBaMa_1bXf6LYYQb7Umc_jb09L5z8brndD2QOsiLWquZgZetn9NgRC9WVGcL7LMriStTsD5Rt1lgw6pwe96m5zdIp9ginr1chmR61UhwWz6WYhg3dbLkIi4VfwmrKpE99xAKgyavnlYNzFtV277HKEIy2t73eyqlDkSlxZpDe7JyEhQP5ZJhMQwsZhrioNogn2O55p7ZZBGaX6Lc9jBotD-oIyCcWGtziuKPNlh3CAmxUjD4H8MvVGaKlslFT0jvDFftSNrrVJZnStqoVtugkUu_gbma_3eNdvSno-BZY8m9gzzIkOWnQru-EnYvZZy4NrY7pxRwb0Ov4tnFrlVqRFYr2pRq-H67I5-BypYupbgG821re-7Fl3xzEy63PULl-0us8RwNm76Sk48PDnurTDci1_Qt5aEbqiqiA5JfzlE195cODJMSzm4lcNAQX_3-RIlR_FTQCYt8heiMsEefzsdzZc9QR8BfGkT0SKozG2V2aDoZ6n57Ivt_xy7m00]--></g></svg>